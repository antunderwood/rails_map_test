<%=  google_map :width => 800, :height => 500 %>
<div id="statusbar" style="display: none;"> 
  <div id="statusbar_content"> 
  </div> 
</div>
<script type="text/javascript" charset="utf-8">
  dlgStatusBar.init($('statusbar'), $('statusbar_content'));
  dlgStatusBar.status('Loading map....');
</script>
<%= link_to_remote :add_markers,  :url => { :action => "add_markers"} , :before => "clear_map()"%><br/>
Country overlay: <%= select_tag "country_overlay", options_for_select([["Austria", "AT"], ["Denmark", "DK"], ["Germany", "DE"],["Greece", "GR"], ["United Kingdom", "UK"]]), :onchange => remote_function(:url => { :action => 'add_country_overlay'},:with => "'country='+value", :before => "dlgStatusBar.status('Retrieving data....');", :complete  => "dlgStatusBar.hide();")%><br/>
Encoded method: <%= select_tag "country", options_for_select([["Austria", "AT"], ["Denmark", "DK"], ["Germany", "DE"],["Greece", "GR"], ["United Kingdom", "UK"]]), :onchange => remote_function(:url => { :action => 'show_country'},:with => "'country='+value")%><br/>
Non-encoded method: <%= select_tag "country_old", options_for_select([["Austria", "AT"], ["Denmark", "DK"], ["Germany", "DE"],["Greece", "GR"], ["United Kingdom", "UK"]]), :onchange => remote_function(:url => { :action => 'show_country'},:with => "'country='+value+'&not_encoded=true'")%><br/>
Encoded method: <%= select_tag "sequence_type", options_for_select(@sequence_types), :onchange => remote_function(:url => { :action => 'show_sequence_type'},:with => "'sequence_type='+value")%><br/>
Non-encoded method: <%= select_tag "sequence_type_old", options_for_select(@sequence_types), :onchange => remote_function(:url => { :action => 'show_sequence_type'},:with => "'sequence_type='+value+'&not_encoded=true'")%><br/>
<%= link_to_function "Clear map", "clear_map()" %>
<div id="region_count">No count</div>